ollama --version
OLLAMA_DEBUG=1 ollama serve 2>&1 | head -50

ollama --version
OLLAMA_DEBUG=1 ollama serve 2>&1 | head -50
ollama version is 0.15.2
Couldn't find '/home/adam/.ollama/id_ed25519'. Generating new private key.
Your new public key is:

ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEHIK0DhX4NoJpnDQzJmtDeozEKyAiETaSPDQ/57wtkf

Error: listen tcp 127.0.0.1:11434: bind: address already in use

adam@WindTurbine:~$ pkill ollama
pkill: killing pid 188 failed: Operation not permitted
pkill: killing pid 448 failed: Operation not permitted

HSA_OVERRIDE_GFX_VERSION=11.0.0 OLLAMA_DEBUG=1 ollama serve 2>&1 | head -100

adam@WindTurbine:~$ HSA_OVERRIDE_GFX_VERSION=11.0.0 OLLAMA_DEBUG=1 ollama serve 2>&1 | head -100
time=2026-01-31T17:53:40.553+01:00 level=INFO source=routes.go:1631 msg="server config" env="map[CUDA_VISIBLE_DEVICES: GGML_VK_VISIBLE_DEVICES: GPU_DEVICE_ORDINAL: HIP_VISIBLE_DEVICES: HSA_OVERRIDE_GFX_VERSION:11.0.0 HTTPS_PROXY: HTTP_PROXY: NO_PROXY: OLLAMA_CONTEXT_LENGTH:4096 OLLAMA_DEBUG:DEBUG OLLAMA_FLASH_ATTENTION:false OLLAMA_GPU_OVERHEAD:0 OLLAMA_HOST:http://127.0.0.1:11434 OLLAMA_KEEP_ALIVE:5m0s OLLAMA_KV_CACHE_TYPE: OLLAMA_LLM_LIBRARY: OLLAMA_LOAD_TIMEOUT:5m0s OLLAMA_MAX_LOADED_MODELS:0 OLLAMA_MAX_QUEUE:512 OLLAMA_MODELS:/home/adam/.ollama/models OLLAMA_MULTIUSER_CACHE:false OLLAMA_NEW_ENGINE:false OLLAMA_NOHISTORY:false OLLAMA_NOPRUNE:false OLLAMA_NUM_PARALLEL:1 OLLAMA_ORIGINS:[http://localhost https://localhost http://localhost:* https://localhost:* http://127.0.0.1 https://127.0.0.1 http://127.0.0.1:* https://127.0.0.1:* http://0.0.0.0 https://0.0.0.0 http://0.0.0.0:* https://0.0.0.0:* app://* file://* tauri://* vscode-webview://* vscode-file://*] OLLAMA_REMOTES:[ollama.com] OLLAMA_SCHED_SPREAD:false OLLAMA_VULKAN:false ROCR_VISIBLE_DEVICES: http_proxy: https_proxy: no_proxy:]"
time=2026-01-31T17:53:40.554+01:00 level=INFO source=images.go:473 msg="total blobs: 0"
time=2026-01-31T17:53:40.554+01:00 level=INFO source=images.go:480 msg="total unused blobs removed: 0"
time=2026-01-31T17:53:40.554+01:00 level=INFO source=routes.go:1684 msg="Listening on 127.0.0.1:11434 (version 0.15.2)"
time=2026-01-31T17:53:40.554+01:00 level=DEBUG source=sched.go:121 msg="starting llm scheduler"
time=2026-01-31T17:53:40.555+01:00 level=INFO source=runner.go:67 msg="discovering available GPUs..."
time=2026-01-31T17:53:40.555+01:00 level=WARN source=runner.go:485 msg="user overrode visible devices" HSA_OVERRIDE_GFX_VERSION=11.0.0
time=2026-01-31T17:53:40.555+01:00 level=WARN source=runner.go:489 msg="if GPUs are not correctly discovered, unset and try again"
time=2026-01-31T17:53:40.555+01:00 level=INFO source=runner.go:106 msg="experimental Vulkan support disabled.  To enable, set OLLAMA_VULKAN=1"
time=2026-01-31T17:53:40.555+01:00 level=INFO source=server.go:429 msg="starting runner" cmd="/usr/local/bin/ollama runner --ollama-engine --port 44861"
time=2026-01-31T17:53:40.555+01:00 level=DEBUG source=server.go:430 msg=subprocess OLLAMA_DEBUG=1 HSA_OVERRIDE_GFX_VERSION=11.0.0 PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Users/belad/AppData/Local/Microsoft/WindowsApps:/snap/bin LD_LIBRARY_PATH=/usr/local/lib/ollama:/usr/local/lib/ollama/cuda_v12 OLLAMA_LIBRARY_PATH=/usr/local/lib/ollama:/usr/local/lib/ollama/cuda_v12
time=2026-01-31T17:53:40.582+01:00 level=DEBUG source=runner.go:437 msg="bootstrap discovery took" duration=26.936758ms OLLAMA_LIBRARY_PATH="[/usr/local/lib/ollama /usr/local/lib/ollama/cuda_v12]" extra_envs=map[]
time=2026-01-31T17:53:40.582+01:00 level=INFO source=server.go:429 msg="starting runner" cmd="/usr/local/bin/ollama runner --ollama-engine --port 41197"
time=2026-01-31T17:53:40.582+01:00 level=DEBUG source=server.go:430 msg=subprocess OLLAMA_DEBUG=1 HSA_OVERRIDE_GFX_VERSION=11.0.0 PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Users/belad/AppData/Local/Microsoft/WindowsApps:/snap/bin LD_LIBRARY_PATH=/usr/local/lib/ollama:/usr/local/lib/ollama/cuda_v13 OLLAMA_LIBRARY_PATH=/usr/local/lib/ollama:/usr/local/lib/ollama/cuda_v13
time=2026-01-31T17:53:40.609+01:00 level=DEBUG source=runner.go:437 msg="bootstrap discovery took" duration=27.357743ms OLLAMA_LIBRARY_PATH="[/usr/local/lib/ollama /usr/local/lib/ollama/cuda_v13]" extra_envs=map[]
time=2026-01-31T17:53:40.609+01:00 level=DEBUG source=runner.go:124 msg="evaluating which, if any, devices to filter out" initial_count=0
time=2026-01-31T17:53:40.609+01:00 level=DEBUG source=runner.go:40 msg="GPU bootstrap discovery took" duration=54.65277ms
time=2026-01-31T17:53:40.609+01:00 level=INFO source=types.go:60 msg="inference compute" id=cpu library=cpu compute="" name=cpu description=cpu libdirs=ollama driver="" pci_id="" type="" total="15.2 GiB" available="14.6 GiB"
time=2026-01-31T17:53:40.609+01:00 level=INFO source=routes.go:1725 msg="entering low vram mode" "total vram"="0 B" threshold="20.0 GiB"


# Stop Ollama
sudo systemctl stop ollama

# Remove current (CUDA) installation
sudo rm -rf /usr/local/lib/ollama
sudo rm -f /usr/local/bin/ollama

# Download ROCm-specific build
curl -L https://ollama.com/download/ollama-linux-amd64-rocm.tgz -o ollama-rocm.tgz

# Extract
sudo tar -C /usr -xzf ollama-rocm.tgz

# Verify ROCm libraries exist
ls /usr/lib/ollama/ | grep -i rocm

# Set env and start
export HSA_OVERRIDE_GFX_VERSION=11.0.0
ollama serve
